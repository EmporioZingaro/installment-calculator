<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Calculadora de Parcelamento</title>

  <!-- Typefaces -->
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Roboto+Mono:wght@400&display=swap"
    rel="stylesheet"
  />
  <link rel="stylesheet" href="./style.css" />
</head>

<body>
  <!-- Floating gear button -->
  <button id="gear-btn" class="gear-btn" title="Configurações">
    <img id="gear-icon" alt="Ir para configurações" />
  </button>

  <!-- App shell -->
  <main class="container">
    <header class="app-header">
      <img src="./logo.svg" alt="Logo Empório Zingaro" class="logo" />
      <h1>Calculadora de Parcelamento</h1>
    </header>

    <!-- NEW flex workspace ------------------------------------------------- -->
    <div id="workspace" class="workspace">
      <!-- LEFT panel (form) -->
      <section id="panel-left" class="panel-left glass">
        <label>Bandeira</label>

        <!-- Accessible custom combobox -->
        <div id="issuer-combo"
             class="combo"
             role="combobox"
             aria-haspopup="listbox"
             aria-expanded="false"
             tabindex="0">
          <img class="combo-icon" alt="" aria-hidden="true" />
          <span class="combo-label">-- escolha --</span>
          <svg class="combo-caret" viewBox="0 0 24 24" width="18" height="18">
            <path d="M6 9l6 6 6-6"
                  stroke="currentColor" stroke-width="2"
                  stroke-linecap="round" stroke-linejoin="round" fill="none" />
          </svg>
        </div>
        <ul id="issuer-list" class="combo-list" role="listbox" hidden></ul>

        <!-- hidden native select for form semantics -->
        <select id="issuer" name="issuer" hidden tabindex="-1" aria-hidden="true">
          <option value="">-- escolha --</option>
        </select>

        <label for="price">Valor da compra (R$)</label>
        <input id="price" type="number" step="0.01" min="0" />

        <div class="btn-row">
          <button id="calc"  class="btn primary">Calcular</button>
          <button id="reset" class="btn secondary">Resetar</button>
        </div>

        <div id="msg" class="msg"></div>
      </section>

      <!-- RIGHT panel (results) -->
      <section id="panel-right" class="panel-right glass">
        <!-- Placeholder shown before first calculation -->
        <div id="placeholder" class="placeholder">
          <ol>
            <li>1. Escolha a bandeira</li>
            <li>2. Digite o valor da compra</li>
            <li>3. Clique <strong>Calcular</strong></li>
          </ol>
        </div>

        <div id="cards" class="cards-grid"></div>

        <!-- Hidden legacy table (fallback) -->
        <table id="legacy-table" hidden>
          <thead>
            <tr>
              <th>Parcelas</th><th>Valor Parcela</th><th>Total</th>
              <th>Acréscimo R$</th><th>Acréscimo %</th>
            </tr>
          </thead>
          <tbody id="tbody"></tbody>
        </table>
      </section>
    </div><!-- /workspace -->
  </main>

  <!-- Scripts -->
  <script type="module" src="/src/main.ts"></script>
  <script type="module">
    document.getElementById('gear-btn')?.addEventListener(
      'click', () => location.href = './settings.html'
    );
  </script>
</body>
</html>
